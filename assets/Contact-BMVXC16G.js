import{h as qe,j as c,k as z,m as w,l as N,a as j,f as o,n as F,P as E,p as U,c as m,q as B,r as A,s as V,v as $,w as S,x as Ae,y as O,z as X,S as ce,A as Ze,C as de,_ as ue,D as _e,E as We,G as Je,H as Xe,I as Ye,J as M,K as Ke,u as He,t as fe,b as Q,i as L,B as Ge,L as Qe,M as ze}from"./index-DaGuRYCz.js";function Ue(e={}){const[r,t]=qe({value:()=>c(e.isSelected),defaultValue:()=>!!c(e.defaultIsSelected),onChange:s=>e.onSelectedChange?.(s)});return{isSelected:r,setIsSelected:s=>{!c(e.isReadOnly)&&!c(e.isDisabled)&&t(s)},toggle:()=>{!c(e.isReadOnly)&&!c(e.isDisabled)&&t(!r())}}}var ge=["id","name","validationState","required","disabled","readOnly"];function he(e){const r=`form-control-${U()}`,t=w({id:r},e),[a,n]=m(),[s,h]=m(),[i,l]=m(),[g,d]=m(),C=(f,I,x)=>{const P=x!=null||a()!=null;return[x,a(),P&&I!=null?f:void 0].filter(Boolean).join(" ")||void 0},v=f=>[i(),g(),f].filter(Boolean).join(" ")||void 0,p=B(()=>({"data-valid":c(t.validationState)==="valid"?"":void 0,"data-invalid":c(t.validationState)==="invalid"?"":void 0,"data-required":c(t.required)?"":void 0,"data-disabled":c(t.disabled)?"":void 0,"data-readonly":c(t.readOnly)?"":void 0}));return{formControlContext:{name:()=>c(t.name)??c(t.id),dataset:p,validationState:()=>c(t.validationState),isRequired:()=>c(t.required),isDisabled:()=>c(t.disabled),isReadOnly:()=>c(t.readOnly),labelId:a,fieldId:s,descriptionId:i,errorMessageId:g,getAriaLabelledBy:C,getAriaDescribedBy:v,generateId:V(()=>c(t.id)),registerLabel:A(n),registerField:A(h),registerDescription:A(l),registerErrorMessage:A(d)}}}var ee=z();function T(){const e=$(ee);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function te(e){const r=T(),t=w({id:r.generateId("description")},e);return N(()=>j(r.registerDescription(t.id))),o(E,F({as:"div"},()=>r.dataset(),t))}var me=["id","aria-label","aria-labelledby","aria-describedby"];function ve(e){const r=T(),t=w({id:r.generateId("field")},e);return N(()=>j(r.registerField(c(t.id)))),{fieldProps:{id:()=>c(t.id),ariaLabel:()=>c(t["aria-label"]),ariaLabelledBy:()=>r.getAriaLabelledBy(c(t.id),c(t["aria-label"]),c(t["aria-labelledby"])),ariaDescribedBy:()=>r.getAriaDescribedBy(c(t["aria-describedby"]))}}}function re(e){let r;const t=T(),a=w({id:t.generateId("label")},e),[n,s]=S(a,["ref"]),h=Ae(()=>r,()=>"label");return N(()=>j(t.registerLabel(s.id))),o(E,F({as:"label",ref(i){var l=O(g=>r=g,n.ref);typeof l=="function"&&l(i)},get for(){return B(()=>h()==="label")()?t.fieldId():void 0}},()=>t.dataset(),s))}function be(e,r){N(X(e,t=>{if(t==null)return;const a=Ve(t);a!=null&&(a.addEventListener("reset",r,{passive:!0}),j(()=>{a.removeEventListener("reset",r)}))}))}function Ve(e){return $e(e)?e.form:e.closest("form")}function $e(e){return e.matches("textarea, input, select, button")}function ne(e){const r=T(),t=w({id:r.generateId("error-message")},e),[a,n]=S(t,["forceMount"]),s=()=>r.validationState()==="invalid";return N(()=>{s()&&j(r.registerErrorMessage(n.id))}),o(ce,{get when(){return a.forceMount||s()},get children(){return o(E,F({as:"div"},()=>r.dataset(),n))}})}var et={};ue(et,{Description:()=>te,ErrorMessage:()=>ne,Input:()=>Ce,Label:()=>re,Root:()=>ke,TextArea:()=>xe,TextField:()=>y});var pe=z();function Ie(){const e=$(pe);if(e===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return e}function Ce(e){return o(ye,F({type:"text"},e))}function ye(e){const r=T(),t=Ie(),a=w({id:t.generateId("input")},e),[n,s,h]=S(a,["onInput"],me),{fieldProps:i}=ve(s);return o(E,F({as:"input",get id(){return i.id()},get name(){return r.name()},get value(){return t.value()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readonly(){return r.isReadOnly()},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()},get"aria-invalid"(){return r.validationState()==="invalid"||void 0},get"aria-required"(){return r.isRequired()||void 0},get"aria-disabled"(){return r.isDisabled()||void 0},get"aria-readonly"(){return r.isReadOnly()||void 0},get onInput(){return de([n.onInput,t.onInput])}},()=>r.dataset(),h))}function ke(e){let r;const t=`textfield-${U()}`,a=w({id:t},e),[n,s,h]=S(a,["ref","value","defaultValue","onChange"],ge),i=n.value,[l,g]=Ze({value:()=>i===void 0?void 0:n.value??"",defaultValue:()=>n.defaultValue,onChange:p=>n.onChange?.(p)}),{formControlContext:d}=he(s);be(()=>r,()=>g(n.defaultValue??""));const C=p=>{if(d.isReadOnly()||d.isDisabled())return;const u=p.target;g(u.value),u.value=l()??""},v={value:l,generateId:V(()=>c(s.id)),onInput:C};return o(ee.Provider,{value:d,get children(){return o(pe.Provider,{value:v,get children(){return o(E,F({as:"div",ref(p){var u=O(f=>r=f,n.ref);typeof u=="function"&&u(p)},role:"group",get id(){return c(s.id)}},()=>d.dataset(),h))}})}})}function xe(e){let r;const t=Ie(),a=w({id:t.generateId("textarea")},e),[n,s]=S(a,["ref","autoResize","submitOnEnter","onKeyPress"]);N(X([()=>r,()=>n.autoResize,()=>t.value()],([i,l])=>{!i||!l||tt(i)}));const h=i=>{r&&n.submitOnEnter&&i.key==="Enter"&&!i.shiftKey&&r.form&&(r.form.requestSubmit(),i.preventDefault())};return o(ye,F({as:"textarea",get"aria-multiline"(){return n.submitOnEnter?"false":void 0},get onKeyPress(){return de([n.onKeyPress,h])},ref(i){var l=O(g=>r=g,n.ref);typeof l=="function"&&l(i)}},s))}function tt(e){const r=e.style.alignSelf,t=e.style.overflow;"MozAppearance"in e.style||(e.style.overflow="hidden"),e.style.alignSelf="start",e.style.height="auto",e.style.height=`${e.scrollHeight+(e.offsetHeight-e.clientHeight)}px`,e.style.overflow=t,e.style.alignSelf=r}var y=Object.assign(ke,{Description:te,ErrorMessage:ne,Input:Ce,Label:re,TextArea:xe}),rt={};ue(rt,{Checkbox:()=>D,Control:()=>we,Description:()=>Ee,ErrorMessage:()=>Se,Indicator:()=>Ne,Input:()=>Te,Label:()=>Pe,Root:()=>Le});var Fe=z();function R(){const e=$(Fe);if(e===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return e}function we(e){const r=T(),t=R(),a=w({id:t.generateId("control")},e),[n,s]=S(a,["onClick","onKeyDown"]);return o(E,F({as:"div",onClick:l=>{M(l,n.onClick),t.toggle(),t.inputRef()?.focus()},onKeyDown:l=>{M(l,n.onKeyDown),l.key===Ke.Space&&(t.toggle(),t.inputRef()?.focus())}},()=>r.dataset(),()=>t.dataset(),s))}function Ee(e){const r=R();return o(te,F(()=>r.dataset(),e))}function Se(e){const r=R();return o(ne,F(()=>r.dataset(),e))}function Ne(e){const r=T(),t=R(),[a,n]=m(),s=w({id:t.generateId("indicator")},e),[h,i]=S(s,["ref","forceMount"]),{present:l}=Je({show:()=>h.forceMount||t.indeterminate()||t.checked(),element:()=>a()??null});return o(ce,{get when(){return l()},get children(){return o(E,F({as:"div",ref(g){var d=O(n,h.ref);typeof d=="function"&&d(g)}},()=>r.dataset(),()=>t.dataset(),i))}})}function Te(e){let r;const t=T(),a=R(),n=w({id:a.generateId("input")},e),[s,h,i]=S(n,["ref","style","onChange","onFocus","onBlur"],me),{fieldProps:l}=ve(h),[g,d]=m(!1),C=u=>{if(M(u,s.onChange),u.stopPropagation(),!g()){const f=u.target;a.setIsChecked(f.checked),f.checked=a.checked()}d(!1)},v=u=>{M(u,s.onFocus),a.setIsFocused(!0)},p=u=>{M(u,s.onBlur),a.setIsFocused(!1)};return N(X([()=>a.checked(),()=>a.value()],()=>{d(!0),r?.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),r?.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),N(X([()=>r,()=>a.indeterminate(),()=>a.checked()],([u,f])=>{u&&(u.indeterminate=f)})),o(E,F({as:"input",ref(u){var f=O(I=>{a.setInputRef(I),r=I},s.ref);typeof f=="function"&&f(u)},type:"checkbox",get id(){return l.id()},get name(){return t.name()},get value(){return a.value()},get checked(){return a.checked()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return _e(We,s.style)},get"aria-label"(){return l.ariaLabel()},get"aria-labelledby"(){return l.ariaLabelledBy()},get"aria-describedby"(){return l.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()},get"aria-disabled"(){return t.isDisabled()},get"aria-readonly"(){return t.isReadOnly()},onChange:C,onFocus:v,onBlur:p},()=>t.dataset(),()=>a.dataset(),i))}function Pe(e){const r=R();return o(re,F(()=>r.dataset(),e))}function Le(e){let r;const t=`checkbox-${U()}`,a=w({value:"on",id:t},e),[n,s,h]=S(a,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],ge),[i,l]=m(),[g,d]=m(!1),{formControlContext:C}=he(s),v=Ue({isSelected:()=>n.checked,defaultIsSelected:()=>n.defaultChecked,onSelectedChange:I=>n.onChange?.(I),isDisabled:()=>C.isDisabled(),isReadOnly:()=>C.isReadOnly()});be(()=>r,()=>v.setIsSelected(n.defaultChecked??!1));const p=I=>{M(I,n.onPointerDown),g()&&I.preventDefault()},u=B(()=>({"data-checked":v.isSelected()?"":void 0,"data-indeterminate":n.indeterminate?"":void 0})),f={value:()=>n.value,dataset:u,checked:()=>v.isSelected(),indeterminate:()=>n.indeterminate??!1,inputRef:i,generateId:V(()=>c(s.id)),toggle:()=>v.toggle(),setIsChecked:I=>v.setIsSelected(I),setIsFocused:d,setInputRef:l};return o(ee.Provider,{value:C,get children(){return o(Fe.Provider,{value:f,get children(){return o(E,F({as:"div",ref(I){var x=O(P=>r=P,n.ref);typeof x=="function"&&x(I)},role:"group",get id(){return c(s.id)},onPointerDown:p},()=>C.dataset(),u,h,{get children(){return o(nt,{state:f,get children(){return n.children}})}}))}})}})}function nt(e){const r=Xe(()=>{const t=e.children;return Ye(t)?t(e.state):t});return B(r)}var D=Object.assign(Le,{Control:we,Description:Ee,ErrorMessage:Se,Indicator:Ne,Input:Te,Label:Pe}),at="ka9hrq0",Z="ka9hrq1",_="ka9hrq2",W="ka9hrq3",J="ka9hrq4",ot="ka9hrq5",ie="ka9hrq7",st="ka9hrq8",it="ka9hrq9",lt="ka9hrqa",ct="ka9hrqb";new TextEncoder;async function dt(e,r,t,a,n="SHA-256",s=1e6,h=0){const i=[];r=Math.max(1,Math.min(16,r));for(let d=0;d<r;d++)typeof e=="function"?i.push(e()):i.push(new Worker(e,{type:"module"}));const l=Math.ceil(s/r),g=await Promise.all(i.map((d,C)=>{const v=h+C*l;return new Promise(p=>{d.addEventListener("message",u=>{if(u.data)for(const f of i)f!==d&&f.postMessage({type:"abort"});p(u.data)}),d.postMessage({payload:{algorithm:n,challenge:t,max:v+l,salt:a,start:v},type:"work"})})}));for(const d of i)d.terminate();return g.find(d=>!!d)||null}function ut(e){return new Worker("/assets/worker-B5MSFnLT.js",{name:e?.name})}var le=fe("<div>"),ft=fe("<form>");const gt=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,vt=()=>{const{t:e}=He(),[r,t]=m(""),[a,n]=m(""),[s,h]=m(""),[i,l]=m(""),[g,d]=m(""),[C,v]=m(""),[p,u]=m(""),[f,I]=m(""),[x,P]=m("unverified"),[De,ae]=m(!1),[oe,se]=m(!1),[Me,q]=m(!1),Oe=async()=>{if(x()!=="unverified")return;ae(!1),P("verifying");const b=await(await fetch("https://nsskrewportfolioback0aka91qi-container-xenodochial-carson.functions.fnc.fr-par.scw.cloud/altcha",{headers:{"X-Auth-Token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl9jbGFpbSI6W3sibmFtZXNwYWNlX2lkIjoiIiwiYXBwbGljYXRpb25faWQiOiJiOGFlMmE2Zi1kMzdlLTRiMjYtODdkNS1iYTU4ZThjYjNjOTYifV0sInZlcnNpb24iOjIsImF1ZCI6ImZ1bmN0aW9ucyIsImp0aSI6IjllYmJjMTQyLWFhNWQtNDBmMi1iYTBjLTM0NjRjNjhiMTJjNSIsImlhdCI6MTc0NTU0Mzk0NCwiaXNzIjoiU0NBTEVXQVkiLCJuYmYiOjE3NDU1NDM5NDQsInN1YiI6InRva2VuIn0.nGcncJ5KkpZobjAfk91H76ShFg6dxkie6OQan8VqV-4H5ZegdHtWoPZZEIYGUu1pn_GBp0UP9wKxITnjkrnAQ02Lfz7-fXYLdrhlSPkJG2wbgI_f9o8wwZ2T0l3aVXFS2zc6CaK7HsOJKFuy_yAmBdHcFLl7JbNNHfyq-uleWln4bU1cuZXec3BlOJkwyoEI1UFrwDPGzR9t-siwhGHLKDOK_8SL2-aypTT8CFKuk-Qe3LDpnjQgbgiC_ko34XDcPmT1yAZH4JkdfvkWRxGA9u7GEh6A0nF3vhPB1jrxMlYMjWBqWl4TcwnfaZNQO5XyzP_RciP3uQF6PHksHi81qxyiui2KwgkTzjBEUG4RjZE62TpZXI4YS37TAhtb-a3eTUNhXEBoKFDEwA4NF2ysiLUS3pBdPXbfBxDsdnrqkOKdEpWiMtP_ZO5ksJrTW5A4ZiCkp5vYr3QD0W7e3DDU9bMp2qbNnPioLnvuZcqay41htERs5oCVKbTM2m48EhefdLNmxeUYHzZww3VTwh6A983OkBft4S1S6rzq1Sr27Wgq88bQwgZG0gsHQLufme4A8JEQSlr530eT7ha0vWYgSRztSOg3Apmb0cfEwcX7cLTFUdxeospXUv3Z0l8cV51x3bCG1_JQp0VbK8B4Dgz0ZBIvsQrzddXfJPPspy20g5g"}})).json();if(await dt(()=>new ut,navigator.hardwareConcurrency||4,b.challenge,b.salt,b.algorithm,b.maxnumber)===null){ae(!0),P("unverified");return}P("verified")},Y=()=>{r()===""?n(e("contact.firstName.error.empty")):r().length>50?n(e("contact.firstName.error.tooLong")):n(""),q(!0)},K=()=>{s()===""?l(e("contact.lastName.error.empty")):s().length>50?l(e("contact.lastName.error.tooLong")):l(""),q(!0)},H=()=>{g()===""?v(e("contact.email.error.empty")):g().length>254||!gt.test(g())?v(e("contact.email.error.wrongFormat")):v(""),q(!0)},G=()=>{p()===""?I(e("contact.message.error.empty")):p().length>1e3?I(e("contact.message.error.tooLong")):I(""),q(!0)},Re=async k=>{if(k.preventDefault(),Y(),K(),H(),G(),!(a()!==""||i()!==""||C()!==""||f()!==""||x()!=="verified")){se(!0);try{const b=await fetch("https://nsskrewportfolioback0aka91qi-container-xenodochial-carson.functions.fnc.fr-par.scw.cloud/contact",{method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBsaWNhdGlvbl9jbGFpbSI6W3sibmFtZXNwYWNlX2lkIjoiIiwiYXBwbGljYXRpb25faWQiOiJiOGFlMmE2Zi1kMzdlLTRiMjYtODdkNS1iYTU4ZThjYjNjOTYifV0sInZlcnNpb24iOjIsImF1ZCI6ImZ1bmN0aW9ucyIsImp0aSI6IjllYmJjMTQyLWFhNWQtNDBmMi1iYTBjLTM0NjRjNjhiMTJjNSIsImlhdCI6MTc0NTU0Mzk0NCwiaXNzIjoiU0NBTEVXQVkiLCJuYmYiOjE3NDU1NDM5NDQsInN1YiI6InRva2VuIn0.nGcncJ5KkpZobjAfk91H76ShFg6dxkie6OQan8VqV-4H5ZegdHtWoPZZEIYGUu1pn_GBp0UP9wKxITnjkrnAQ02Lfz7-fXYLdrhlSPkJG2wbgI_f9o8wwZ2T0l3aVXFS2zc6CaK7HsOJKFuy_yAmBdHcFLl7JbNNHfyq-uleWln4bU1cuZXec3BlOJkwyoEI1UFrwDPGzR9t-siwhGHLKDOK_8SL2-aypTT8CFKuk-Qe3LDpnjQgbgiC_ko34XDcPmT1yAZH4JkdfvkWRxGA9u7GEh6A0nF3vhPB1jrxMlYMjWBqWl4TcwnfaZNQO5XyzP_RciP3uQF6PHksHi81qxyiui2KwgkTzjBEUG4RjZE62TpZXI4YS37TAhtb-a3eTUNhXEBoKFDEwA4NF2ysiLUS3pBdPXbfBxDsdnrqkOKdEpWiMtP_ZO5ksJrTW5A4ZiCkp5vYr3QD0W7e3DDU9bMp2qbNnPioLnvuZcqay41htERs5oCVKbTM2m48EhefdLNmxeUYHzZww3VTwh6A983OkBft4S1S6rzq1Sr27Wgq88bQwgZG0gsHQLufme4A8JEQSlr530eT7ha0vWYgSRztSOg3Apmb0cfEwcX7cLTFUdxeospXUv3Z0l8cV51x3bCG1_JQp0VbK8B4Dgz0ZBIvsQrzddXfJPPspy20g5g"},body:JSON.stringify({email:g(),firstName:r(),lastName:s(),message:p()})});if(!b.ok)throw new Error("Post KO");if(b.status!==200)throw new Error("Post KO");t(""),n(""),h(""),l(""),d(""),v(""),u(""),I(""),se(!1)}catch{}}},je=()=>x()==="unverified"?[]:x()==="verifying"?(()=>{var k=le();return Q(k,ie),k})():o(ze,{icon:Qe}),Be=()=>x()==="unverified"?De()?e("altcha.error"):e("altcha.label"):x()==="verifying"?e("altcha.verifying"):e("altcha.verified");return(()=>{var k=ft();return k.addEventListener("submit",Re),Q(k,at),L(k,o(y,{class:Z,get value(){return r()},onChange:b=>{t(b),Y()},get validationState(){return a()===""?"valid":"invalid"},get children(){return[o(y.Label,{class:_,get children(){return e("contact.firstName")}}),o(y.Input,{class:W,autocomplete:"given-name",onFocus:Y}),o(y.ErrorMessage,{class:J,get children(){return a()}})]}}),null),L(k,o(y,{class:Z,get value(){return s()},onChange:b=>{h(b),K()},get validationState(){return i()===""?"valid":"invalid"},get children(){return[o(y.Label,{class:_,get children(){return e("contact.lastName")}}),o(y.Input,{class:W,autocomplete:"family-name",onFocus:K}),o(y.ErrorMessage,{class:J,get children(){return i()}})]}}),null),L(k,o(y,{class:Z,get value(){return g()},onChange:b=>{d(b),H()},get validationState(){return C()===""?"valid":"invalid"},get children(){return[o(y.Label,{class:_,get children(){return e("contact.email")}}),o(y.Input,{class:W,autocomplete:"email",type:"email",onFocus:H}),o(y.ErrorMessage,{class:J,get children(){return C()}})]}}),null),L(k,o(y,{class:Z,get value(){return p()},onChange:b=>{u(b),G()},get validationState(){return f()===""?"valid":"invalid"},get children(){return[o(y.Label,{class:_,get children(){return e("contact.message")}}),o(y.TextArea,{class:W,autoResize:!0,onFocus:G}),o(y.ErrorMessage,{class:J,get children(){return f()}})]}}),null),L(k,o(D,{class:st,onChange:Oe,get disabled(){return x()!=="unverified"},get children(){return[o(D.Input,{class:it}),o(D.Control,{class:lt,get children(){return o(D.Indicator,{get children(){return je()}})}}),o(D.Label,{class:ct,get children(){return Be()}})]}}),null),L(k,o(Ge,{type:"submit",get disabled(){return oe()||!Me()||a()!==""||i()!==""||C()!==""||f()!==""||x()!=="verified"},class:ot,get children(){return B(()=>!!oe())()?(()=>{var b=le();return Q(b,ie),b})():e("contact.submit")}}),null),k})()};export{vt as default};
