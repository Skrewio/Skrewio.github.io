import{k as Be,l as c,m as Q,n as E,p as P,a as _,f as o,q as F,P as w,r as X,c as v,s as T,v as A,w as Y,x as Z,y as S,z as Ae,A as q,C as V,S as ce,D as $e,E as de,_ as ue,G as Ke,H as He,I as je,J as Ve,K as ze,L as O,M as We,u as Ge,t as fe,b as U,i as D,B as Je,N as Ue,j as Qe}from"./index-BEI3rwpH.js";function Xe(e={}){const[r,t]=Be({value:()=>c(e.isSelected),defaultValue:()=>!!c(e.defaultIsSelected),onChange:s=>e.onSelectedChange?.(s)});return{isSelected:r,setIsSelected:s=>{!c(e.isReadOnly)&&!c(e.isDisabled)&&t(s)},toggle:()=>{!c(e.isReadOnly)&&!c(e.isDisabled)&&t(!r())}}}var ge=["id","name","validationState","required","disabled","readOnly"];function he(e){const r=`form-control-${X()}`,t=E({id:r},e),[a,n]=v(),[s,h]=v(),[i,l]=v(),[g,d]=v(),y=(f,C,k)=>{const R=k!=null||a()!=null;return[k,a(),R&&C!=null?f:void 0].filter(Boolean).join(" ")||void 0},m=f=>[i(),g(),f].filter(Boolean).join(" ")||void 0,p=T(()=>({"data-valid":c(t.validationState)==="valid"?"":void 0,"data-invalid":c(t.validationState)==="invalid"?"":void 0,"data-required":c(t.required)?"":void 0,"data-disabled":c(t.disabled)?"":void 0,"data-readonly":c(t.readOnly)?"":void 0}));return{formControlContext:{name:()=>c(t.name)??c(t.id),dataset:p,validationState:()=>c(t.validationState),isRequired:()=>c(t.required),isDisabled:()=>c(t.disabled),isReadOnly:()=>c(t.readOnly),labelId:a,fieldId:s,descriptionId:i,errorMessageId:g,getAriaLabelledBy:y,getAriaDescribedBy:m,generateId:Y(()=>c(t.id)),registerLabel:A(n),registerField:A(h),registerDescription:A(l),registerErrorMessage:A(d)}}}var ee=Q();function L(){const e=Z(ee);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function te(e){const r=L(),t=E({id:r.generateId("description")},e);return P(()=>_(r.registerDescription(t.id))),o(w,F({as:"div"},()=>r.dataset(),t))}var ve=["id","aria-label","aria-labelledby","aria-describedby"];function me(e){const r=L(),t=E({id:r.generateId("field")},e);return P(()=>_(r.registerField(c(t.id)))),{fieldProps:{id:()=>c(t.id),ariaLabel:()=>c(t["aria-label"]),ariaLabelledBy:()=>r.getAriaLabelledBy(c(t.id),c(t["aria-label"]),c(t["aria-labelledby"])),ariaDescribedBy:()=>r.getAriaDescribedBy(c(t["aria-describedby"]))}}}function re(e){let r;const t=L(),a=E({id:t.generateId("label")},e),[n,s]=S(a,["ref"]),h=Ae(()=>r,()=>"label");return P(()=>_(t.registerLabel(s.id))),o(w,F({as:"label",ref(i){var l=q(g=>r=g,n.ref);typeof l=="function"&&l(i)},get for(){return T(()=>h()==="label")()?t.fieldId():void 0}},()=>t.dataset(),s))}function be(e,r){P(V(e,t=>{if(t==null)return;const a=Ye(t);a!=null&&(a.addEventListener("reset",r,{passive:!0}),_(()=>{a.removeEventListener("reset",r)}))}))}function Ye(e){return Ze(e)?e.form:e.closest("form")}function Ze(e){return e.matches("textarea, input, select, button")}function ne(e){const r=L(),t=E({id:r.generateId("error-message")},e),[a,n]=S(t,["forceMount"]),s=()=>r.validationState()==="invalid";return P(()=>{s()&&_(r.registerErrorMessage(n.id))}),o(ce,{get when(){return a.forceMount||s()},get children(){return o(w,F({as:"div"},()=>r.dataset(),n))}})}var et={};ue(et,{Description:()=>te,ErrorMessage:()=>ne,Input:()=>ye,Label:()=>re,Root:()=>Ie,TextArea:()=>ke,TextField:()=>x});var pe=Q();function Ce(){const e=Z(pe);if(e===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return e}function ye(e){return o(xe,F({type:"text"},e))}function xe(e){const r=L(),t=Ce(),a=E({id:t.generateId("input")},e),[n,s,h]=S(a,["onInput"],ve),{fieldProps:i}=me(s);return o(w,F({as:"input",get id(){return i.id()},get name(){return r.name()},get value(){return t.value()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readonly(){return r.isReadOnly()},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()},get"aria-invalid"(){return r.validationState()==="invalid"||void 0},get"aria-required"(){return r.isRequired()||void 0},get"aria-disabled"(){return r.isDisabled()||void 0},get"aria-readonly"(){return r.isReadOnly()||void 0},get onInput(){return de([n.onInput,t.onInput])}},()=>r.dataset(),h))}function Ie(e){let r;const t=`textfield-${X()}`,a=E({id:t},e),[n,s,h]=S(a,["ref","value","defaultValue","onChange"],ge),i=n.value,[l,g]=$e({value:()=>i===void 0?void 0:n.value??"",defaultValue:()=>n.defaultValue,onChange:p=>n.onChange?.(p)}),{formControlContext:d}=he(s);be(()=>r,()=>g(n.defaultValue??""));const y=p=>{if(d.isReadOnly()||d.isDisabled())return;const u=p.target;g(u.value),u.value=l()??""},m={value:l,generateId:Y(()=>c(s.id)),onInput:y};return o(ee.Provider,{value:d,get children(){return o(pe.Provider,{value:m,get children(){return o(w,F({as:"div",ref(p){var u=q(f=>r=f,n.ref);typeof u=="function"&&u(p)},role:"group",get id(){return c(s.id)}},()=>d.dataset(),h))}})}})}function ke(e){let r;const t=Ce(),a=E({id:t.generateId("textarea")},e),[n,s]=S(a,["ref","autoResize","submitOnEnter","onKeyPress"]);P(V([()=>r,()=>n.autoResize,()=>t.value()],([i,l])=>{!i||!l||tt(i)}));const h=i=>{r&&n.submitOnEnter&&i.key==="Enter"&&!i.shiftKey&&r.form&&(r.form.requestSubmit(),i.preventDefault())};return o(xe,F({as:"textarea",get"aria-multiline"(){return n.submitOnEnter?"false":void 0},get onKeyPress(){return de([n.onKeyPress,h])},ref(i){var l=q(g=>r=g,n.ref);typeof l=="function"&&l(i)}},s))}function tt(e){const r=e.style.alignSelf,t=e.style.overflow;"MozAppearance"in e.style||(e.style.overflow="hidden"),e.style.alignSelf="start",e.style.height="auto",e.style.height=`${e.scrollHeight+(e.offsetHeight-e.clientHeight)}px`,e.style.overflow=t,e.style.alignSelf=r}var x=Object.assign(Ie,{Description:te,ErrorMessage:ne,Input:ye,Label:re,TextArea:ke}),rt={};ue(rt,{Checkbox:()=>M,Control:()=>Ee,Description:()=>we,ErrorMessage:()=>Se,Indicator:()=>Pe,Input:()=>Le,Label:()=>Re,Root:()=>De});var Fe=Q();function N(){const e=Z(Fe);if(e===void 0)throw new Error("[kobalte]: `useCheckboxContext` must be used within a `Checkbox` component");return e}function Ee(e){const r=L(),t=N(),a=E({id:t.generateId("control")},e),[n,s]=S(a,["onClick","onKeyDown"]);return o(w,F({as:"div",onClick:l=>{O(l,n.onClick),t.toggle(),t.inputRef()?.focus()},onKeyDown:l=>{O(l,n.onKeyDown),l.key===We.Space&&(t.toggle(),t.inputRef()?.focus())}},()=>r.dataset(),()=>t.dataset(),s))}function we(e){const r=N();return o(te,F(()=>r.dataset(),e))}function Se(e){const r=N();return o(ne,F(()=>r.dataset(),e))}function Pe(e){const r=L(),t=N(),[a,n]=v(),s=E({id:t.generateId("indicator")},e),[h,i]=S(s,["ref","forceMount"]),{present:l}=je({show:()=>h.forceMount||t.indeterminate()||t.checked(),element:()=>a()??null});return o(ce,{get when(){return l()},get children(){return o(w,F({as:"div",ref(g){var d=q(n,h.ref);typeof d=="function"&&d(g)}},()=>r.dataset(),()=>t.dataset(),i))}})}function Le(e){let r;const t=L(),a=N(),n=E({id:a.generateId("input")},e),[s,h,i]=S(n,["ref","style","onChange","onFocus","onBlur"],ve),{fieldProps:l}=me(h),[g,d]=v(!1),y=u=>{if(O(u,s.onChange),u.stopPropagation(),!g()){const f=u.target;a.setIsChecked(f.checked),f.checked=a.checked()}d(!1)},m=u=>{O(u,s.onFocus),a.setIsFocused(!0)},p=u=>{O(u,s.onBlur),a.setIsFocused(!1)};return P(V([()=>a.checked(),()=>a.value()],()=>{d(!0),r?.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),r?.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},{defer:!0})),P(V([()=>r,()=>a.indeterminate(),()=>a.checked()],([u,f])=>{u&&(u.indeterminate=f)})),o(w,F({as:"input",ref(u){var f=q(C=>{a.setInputRef(C),r=C},s.ref);typeof f=="function"&&f(u)},type:"checkbox",get id(){return l.id()},get name(){return t.name()},get value(){return a.value()},get checked(){return a.checked()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get style(){return Ke(He,s.style)},get"aria-label"(){return l.ariaLabel()},get"aria-labelledby"(){return l.ariaLabelledBy()},get"aria-describedby"(){return l.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()},get"aria-disabled"(){return t.isDisabled()},get"aria-readonly"(){return t.isReadOnly()},onChange:y,onFocus:m,onBlur:p},()=>t.dataset(),()=>a.dataset(),i))}function Re(e){const r=N();return o(re,F(()=>r.dataset(),e))}function De(e){let r;const t=`checkbox-${X()}`,a=E({value:"on",id:t},e),[n,s,h]=S(a,["ref","children","value","checked","defaultChecked","indeterminate","onChange","onPointerDown"],ge),[i,l]=v(),[g,d]=v(!1),{formControlContext:y}=he(s),m=Xe({isSelected:()=>n.checked,defaultIsSelected:()=>n.defaultChecked,onSelectedChange:C=>n.onChange?.(C),isDisabled:()=>y.isDisabled(),isReadOnly:()=>y.isReadOnly()});be(()=>r,()=>m.setIsSelected(n.defaultChecked??!1));const p=C=>{O(C,n.onPointerDown),g()&&C.preventDefault()},u=T(()=>({"data-checked":m.isSelected()?"":void 0,"data-indeterminate":n.indeterminate?"":void 0})),f={value:()=>n.value,dataset:u,checked:()=>m.isSelected(),indeterminate:()=>n.indeterminate??!1,inputRef:i,generateId:Y(()=>c(s.id)),toggle:()=>m.toggle(),setIsChecked:C=>m.setIsSelected(C),setIsFocused:d,setInputRef:l};return o(ee.Provider,{value:y,get children(){return o(Fe.Provider,{value:f,get children(){return o(w,F({as:"div",ref(C){var k=q(R=>r=R,n.ref);typeof k=="function"&&k(C)},role:"group",get id(){return c(s.id)},onPointerDown:p},()=>y.dataset(),u,h,{get children(){return o(nt,{state:f,get children(){return n.children}})}}))}})}})}function nt(e){const r=Ve(()=>{const t=e.children;return ze(t)?t(e.state):t});return T(r)}var M=Object.assign(De,{Control:Ee,Description:we,ErrorMessage:Se,Indicator:Pe,Input:Le,Label:Re}),at="ka9hrq0",$="ka9hrq1",K="ka9hrq2",H="ka9hrq3",j="ka9hrq4",ot="ka9hrq5",ie="ka9hrq7",st="ka9hrq8",it="ka9hrq9",lt="ka9hrqa",ct="ka9hrqb";new TextEncoder;async function dt(e,r,t,a,n="SHA-256",s=1e6,h=0){const i=[];r=Math.max(1,Math.min(16,r));for(let d=0;d<r;d++)typeof e=="function"?i.push(e()):i.push(new Worker(e,{type:"module"}));const l=Math.ceil(s/r),g=await Promise.all(i.map((d,y)=>{const m=h+y*l;return new Promise(p=>{d.addEventListener("message",u=>{if(u.data)for(const f of i)f!==d&&f.postMessage({type:"abort"});p(u.data)}),d.postMessage({payload:{algorithm:n,challenge:t,max:m+l,salt:a,start:m},type:"work"})})}));for(const d of i)d.terminate();return g.find(d=>!!d)||null}function ut(e){return new Worker("/assets/worker-B5MSFnLT.js",{name:e?.name})}var le=fe("<div>"),ft=fe("<form>");const gt=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mt=()=>{const{t:e}=Ge(),[r,t]=v(""),[a,n]=v(""),[s,h]=v(""),[i,l]=v(""),[g,d]=v(""),[y,m]=v(""),[p,u]=v(""),[f,C]=v(""),[k,R]=v("unverified"),[Me,ae]=v(!1),[oe,se]=v(!1),[Oe,B]=v(!1),qe=async()=>{if(k()!=="unverified")return;ae(!1),R("verifying");const b=await(await fetch("https://nsskrewportfolioback0aka91qi-container-xenodochial-carson.functions.fnc.fr-par.scw.cloud/altcha")).json();if(await dt(()=>new ut,navigator.hardwareConcurrency||4,b.challenge,b.salt,b.algorithm,b.maxnumber)===null){ae(!0),R("unverified");return}R("verified")},z=()=>{r()===""?n(e("contact.firstName.error.empty")):r().length>50?n(e("contact.firstName.error.tooLong")):n(""),B(!0)},W=()=>{s()===""?l(e("contact.lastName.error.empty")):s().length>50?l(e("contact.lastName.error.tooLong")):l(""),B(!0)},G=()=>{g()===""?m(e("contact.email.error.empty")):g().length>254||!gt.test(g())?m(e("contact.email.error.wrongFormat")):m(""),B(!0)},J=()=>{p()===""?C(e("contact.message.error.empty")):p().length>1e3?C(e("contact.message.error.tooLong")):C(""),B(!0)},Ne=async I=>{if(I.preventDefault(),z(),W(),G(),J(),!(a()!==""||i()!==""||y()!==""||f()!==""||k()!=="verified")){se(!0);try{const b=await fetch("https://nsskrewportfolioback0aka91qi-container-xenodochial-carson.functions.fnc.fr-par.scw.cloud/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g(),firstName:r(),lastName:s(),message:p()})});if(!b.ok)throw new Error("Post KO");if(b.status!==200)throw new Error("Post KO");t(""),n(""),h(""),l(""),d(""),m(""),u(""),C(""),se(!1)}catch{}}},_e=()=>k()==="unverified"?[]:k()==="verifying"?(()=>{var I=le();return U(I,ie),I})():o(Qe,{icon:Ue}),Te=()=>k()==="unverified"?Me()?e("altcha.error"):e("altcha.label"):k()==="verifying"?e("altcha.verifying"):e("altcha.verified");return(()=>{var I=ft();return I.addEventListener("submit",Ne),U(I,at),D(I,o(x,{class:$,get value(){return r()},onChange:b=>{t(b),z()},get validationState(){return a()===""?"valid":"invalid"},get children(){return[o(x.Label,{class:K,get children(){return e("contact.firstName")}}),o(x.Input,{class:H,autocomplete:"given-name",onFocus:z}),o(x.ErrorMessage,{class:j,get children(){return a()}})]}}),null),D(I,o(x,{class:$,get value(){return s()},onChange:b=>{h(b),W()},get validationState(){return i()===""?"valid":"invalid"},get children(){return[o(x.Label,{class:K,get children(){return e("contact.lastName")}}),o(x.Input,{class:H,autocomplete:"family-name",onFocus:W}),o(x.ErrorMessage,{class:j,get children(){return i()}})]}}),null),D(I,o(x,{class:$,get value(){return g()},onChange:b=>{d(b),G()},get validationState(){return y()===""?"valid":"invalid"},get children(){return[o(x.Label,{class:K,get children(){return e("contact.email")}}),o(x.Input,{class:H,autocomplete:"email",type:"email",onFocus:G}),o(x.ErrorMessage,{class:j,get children(){return y()}})]}}),null),D(I,o(x,{class:$,get value(){return p()},onChange:b=>{u(b),J()},get validationState(){return f()===""?"valid":"invalid"},get children(){return[o(x.Label,{class:K,get children(){return e("contact.message")}}),o(x.TextArea,{class:H,autoResize:!0,onFocus:J}),o(x.ErrorMessage,{class:j,get children(){return f()}})]}}),null),D(I,o(M,{class:st,onChange:qe,get disabled(){return k()!=="unverified"},get children(){return[o(M.Input,{class:it}),o(M.Control,{class:lt,get children(){return o(M.Indicator,{get children(){return _e()}})}}),o(M.Label,{class:ct,get children(){return Te()}})]}}),null),D(I,o(Je,{type:"submit",get disabled(){return oe()||!Oe()||a()!==""||i()!==""||y()!==""||f()!==""||k()!=="verified"},class:ot,get children(){return T(()=>!!oe())()?(()=>{var b=le();return U(b,ie),b})():e("contact.submit")}}),null),I})()};export{mt as default};
